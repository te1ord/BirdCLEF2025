# Paths
paths:
  train_csv: "data/cv_split_wsecondary.csv"
  audio_dir: "data/birdclef2025/train_audio"
  sample_submission: "data/birdclef2025/sample_submission.csv"

# Audio processing
dataset_args:

  # use secondary labels
  secondary_target_col: "parsed_secondary_labels" # none
  beta: 0.2 # weight for all secondary labels - for each would be beta/len(secondary labels)

  val_fold: 0

  # dataloader sampler weights temperature - bigger --> more weights to low-frequency classes
  sampling_temperature: 0.5
  
  train_args:
    target_col: "primary_label"
    secondary_target_col: ${..secondary_target_col}
    beta: ${..beta}
    filenpath_col: "filename"
    sample_rate: 32000
    target_duration: 5.0  # seconds
    normalize_audio: True
    is_train: True
    
    # dataset caching
    use_cache: True
    cache_n_samples: 5000

    # sample piece selection
    wave_piece: center # center # random
    
    # mixup
    mixup_audio: True
    mixup_params:
      prob: 1
      alpha: 0.5
      hard_target: False
    

  val_args:
    target_col: "primary_label"
    secondary_target_col: ${..secondary_target_col}
    beta: ${..beta}
    filenpath_col: "filename"
    sample_rate: 32000
    target_duration: 5.0  # seconds
    normalize_audio: True
    is_train: False
    
    # dataset caching
    use_cache: False
    
    # sample piece selection
    wave_piece: center # center # random

    # mixup
    mixup_audio: False
    mixup_params:
      prob: 0.5
      alpha: 0.5
      hard_target: False
  

dataloader_args:
  train_args:
    batch_size: 64
    num_workers: 4
    persistent_workers: True
    pin_memory: True
#    shuffle: True
    drop_last: True
    
  val_args:
    batch_size: 64
    num_workers: 4
    persistent_workers: True
    pin_memory: True
    shuffle: False
    drop_last: False
    